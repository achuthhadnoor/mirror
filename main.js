const{app:app,BrowserWindow:BrowserWindow,Tray:Tray,Menu:Menu}=require("electron"),{join:join}=require("path"),{ipcMain:ipcMain}=require("electron");let tray,browserWin;const createWindow=()=>{browserWin=new BrowserWindow({frame:!1,alwaysOnTop:!0,width:450,height:300,maxWidth:800,maxHeight:800,transparent:!0,webPreferences:{nodeIntegration:!0,contextIsolation:!1,preload:join(__dirname,"preload.js")}}),browserWin.on("resized",t=>{console.log(browserWin.getBounds())}),browserWin.loadFile("index.html")};function createTray(){tray=new Tray(join(__dirname,"appTemplate.png")),tray.setToolTip("Mirror | Camera preview"),tray.on("click",()=>{browserWin.isVisible()?browserWin.hide():browserWin.show()})}app.whenReady().then(()=>{try{createWindow()}catch{app.quit()}createTray()}),app.dock&&app.dock.hide(),app.on("window-all-closed",(function(){"darwin"!==process.platform&&app.quit()})),ipcMain.on("quit",()=>{app.quit()});